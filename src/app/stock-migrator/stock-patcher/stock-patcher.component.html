<div class="lo-row lo-gap20 zf-full-height-scroll">

  <div class="lo-column lo-gap20" *ngIf="_stock">
    <div class="lo-row lo-justify-start lo-align-center">
      <button mat-icon-button (click)="goToPrev()" color="primary">
        <mat-icon>navigate_before</mat-icon>
      </button>
      <h3 style="margin: 0">Patcher (row: {{_stock.row}})</h3>
      <button mat-icon-button (click)="goToNext()" color="primary">
        <mat-icon>navigate_next</mat-icon>
      </button>
    </div>
    <!----------------------------- Stock name ----------------------------------------->
    <div class="lo-row">
      <div class="lo-30px">
        <mat-icon *ngIf="!_stock.stockName.isValid()" class="zf-field-boo-boo">close</mat-icon>
        <mat-icon *ngIf="_stock.stockName.isPatched()" class="zf-patched">check</mat-icon>
      </div>
      <mat-form-field  floatLabel="always">
        <mat-label>Stock Name</mat-label>
        <input matInput type="text" [formControl]="stockNameFC" required>
        <mat-error *ngIf="stockNameFC.invalid">{{stockNameFC.errors?.['invalid']}}</mat-error>
        <mat-hint *ngIf="_stock.stockName.hasChanged()">
          originally:{{_stock.stockName.original}}
        </mat-hint>
      </mat-form-field>
    </div>
    <!----------------------------- DOB ----------------------------------------->
    <button mat-button *ngIf="prevStock" (click)="useDateFrom(prevStock)" color="primary">
      Use {{prevStock.stockName.current}}: {{prevStock.dob.current}}
    </button>
    <div class="lo-row">
      <div class="lo-30px">
        <mat-icon *ngIf="!_stock.dob.isValid()" class="zf-field-boo-boo">close</mat-icon>
        <mat-icon *ngIf="_stock.dob.isPatched()" class="zf-patched">check</mat-icon>
      </div>
      <mat-form-field  floatLabel="always">
        <mat-label>Fertilization date</mat-label>
        <input matInput type="text" [formControl]="dobFC">
        <mat-error *ngIf="dobFC.invalid">{{dobFC.errors?.['invalid']}}</mat-error>
        <mat-hint *ngIf="_stock.dob.hasChanged()">originally:{{_stock.dob.original}}</mat-hint>
      </mat-form-field>
    </div>
    <button mat-button *ngIf="nextStock" (click)="useDateFrom(nextStock)" color="primary">
      Use {{nextStock.stockName.current}}: {{nextStock.dob.current}}
    </button>
    <!----------------------------- Mom ----------------------------------------->
    <div class="lo-row">
      <div class="lo-30px">
        <mat-icon *ngIf="!_stock.mom.isValid()" class="zf-field-boo-boo">close</mat-icon>
        <mat-icon *ngIf="_stock.mom.isPatched()" class="zf-patched">check</mat-icon>
      </div>
      <mat-form-field floatLabel="always">
        <mat-label>Mom</mat-label>
        <input matInput type="text" [formControl]="momFC">
        <mat-error *ngIf="momFC.invalid">{{momFC.errors?.['invalid']}}</mat-error>
        <mat-hint *ngIf="_stock.mom.hasChanged()">originally:{{_stock.mom.original}}</mat-hint>
      </mat-form-field>
    </div>
    <!----------------------------- Dad ----------------------------------------->
    <div class="lo-row">
      <div class="lo-30px">
        <mat-icon *ngIf="!_stock.dad.isValid()" class="zf-field-boo-boo">close</mat-icon>
        <mat-icon *ngIf="_stock.dad.isPatched()" class="zf-patched">check</mat-icon>
      </div>
      <mat-form-field  floatLabel="always">
        <mat-label>Dad</mat-label>
        <input matInput type="text" [formControl]="dadFC">
        <mat-error *ngIf="dadFC.invalid">{{dadFC.errors?.['invalid']}}</mat-error>
        <mat-hint *ngIf="_stock.dad.hasChanged()">originally:{{_stock.dad.original}}</mat-hint>
      </mat-form-field>
    </div>
    <!----------------------------- Researcher ----------------------------------------->
    <div class="lo-row">
      <div class="lo-30px">
      </div>
      <div class="lo-column">
        <mat-form-field  floatLabel="always">
          <mat-label>Researcher</mat-label>
          <input matInput type="text" [formControl]="researcherFC">
          <mat-error *ngIf="researcherFC.invalid">{{researcherFC.errors?.['invalid']}}</mat-error>
          <mat-hint *ngIf="_stock.researcher.hasChanged()">originally:{{_stock.researcher.original}}</mat-hint>
        </mat-form-field>
      </div>
    </div>
    <!----------------------------- Entering Nursery Count ----------------------------------------->
    <div class="lo-row">
      <div class="lo-30px">
        <mat-icon *ngIf="!_stock.countEnteringNursery.isValid()" class="zf-field-boo-boo">close</mat-icon>
        <mat-icon *ngIf="_stock.countEnteringNursery.isPatched()" class="zf-patched">check</mat-icon>
      </div>
      <mat-form-field  floatLabel="always">
        <mat-label>Count entering nursery</mat-label>
        <input matInput type="number" [formControl]="countEnteringNurseryFC">
        <mat-error *ngIf="countEnteringNurseryFC.invalid">{{countEnteringNurseryFC.errors?.['invalid']}}</mat-error>
        <mat-hint *ngIf="_stock.countEnteringNursery.hasChanged()">originally:{{_stock.countEnteringNursery.original}}</mat-hint>
      </mat-form-field>
    </div>
    <!----------------------------- Leaving Nursery Count ----------------------------------------->
    <div class="lo-row">
      <div class="lo-30px">
        <mat-icon *ngIf="countLeavingNurseryFC.invalid" class="zf-field-boo-boo">close</mat-icon>
        <mat-icon *ngIf="_stock.countLeavingNursery.isPatched()" class="zf-patched">check</mat-icon>
      </div>
      <mat-form-field  floatLabel="always">
        <mat-label>Count leaving nursery</mat-label>
        <input matInput type="number" [formControl]="countLeavingNurseryFC">
        <mat-error *ngIf="countLeavingNurseryFC.invalid">{{countLeavingNurseryFC.errors?.['invalid']}}</mat-error>
        <mat-hint *ngIf="_stock.countLeavingNursery.hasChanged()">
          originally:{{_stock.countLeavingNursery.original}}
        </mat-hint>
      </mat-form-field>
    </div>
    <!----------------------------- Description ----------------------------------------->
    <div class="lo-row">
      <div class="lo-30px">
      </div>
      <div class="lo-column">
        <mat-form-field  floatLabel="always">
          <mat-label>Description</mat-label>
          <input matInput type="text" [formControl]="descriptionFC">
          <mat-error *ngIf="descriptionFC.invalid">{{descriptionFC.errors?.['invalid']}}</mat-error>
          <mat-hint *ngIf="_stock.description.hasChanged()">originally:{{_stock.description.original}}</mat-hint>
        </mat-form-field>
      </div>
    </div>
    <!----------------------------- Genetics ----------------------------------------->
    <div class="lo-row">
      <div class="lo-30px">
      </div>
      <div class="lo-column">
        <mat-form-field  floatLabel="always">
          <mat-label>Genetics</mat-label>
          <input matInput type="text" [formControl]="geneticsFC">
          <mat-error *ngIf="geneticsFC.invalid">{{geneticsFC.errors?.['invalid']}}</mat-error>
          <mat-hint *ngIf="_stock.genetics.hasChanged()">originally:{{_stock.genetics.original}}</mat-hint>
        </mat-form-field>
      </div>
    </div>
    <!----------------------------- Tank ----------------------------------------->
    <div class="lo-row">
      <div class="lo-30px">
      </div>
      <mat-form-field  floatLabel="always">
        <mat-label>Swimmer</mat-label>
        <input matInput type="text" [formControl]="tankFC">
        <mat-error *ngIf="tankFC.invalid">{{tankFC.errors?.['invalid']}}</mat-error>
        <mat-hint *ngIf="_stock.tank.hasChanged()">originally:{{_stock.tank.original}}</mat-hint>
      </mat-form-field>
    </div>
    <!----------------------------- Comments ----------------------------------------->
    <div class="lo-row">
      <div class="lo-30px">
      </div>
      <mat-form-field  floatLabel="always">
        <mat-label>Comment</mat-label>
        <input matInput type="text" [formControl]="commentFC">
        <mat-error *ngIf="commentFC.invalid">{{commentFC.errors?.['invalid']}}</mat-error>
        <mat-hint *ngIf="_stock.comment.hasChanged()">originally:{{_stock.comment.original}}</mat-hint>
      </mat-form-field>
    </div>
    <!----------------------------- Notes ----------------------------------------->
    <div class="lo-row">
      <div class="lo-30px">
      </div>
      <mat-form-field  floatLabel="always" disabled>
        <mat-label>Notes</mat-label>
        <input matInput type="text" [formControl]="notesFC">
      </mat-form-field>
    </div>
  </div>
  <!----------------------------- Parents and kids ----------------------------------------->
  <div class="lo-column lo-gap20">
    <mat-card *ngIf="moms.length > 0">
      <h3>Mom</h3>
      <mat-card-content>
        <app-stock-viewer *ngFor="let mom of moms" [stock]="mom"></app-stock-viewer>
      </mat-card-content>
    </mat-card>
    <mat-card *ngIf="dads.length > 0">
      <h3>Dad</h3>
      <mat-card-content>
        <app-stock-viewer *ngFor="let dad of dads" [stock]="dad"></app-stock-viewer>
      </mat-card-content>
    </mat-card>
    <mat-card *ngIf="kids.length > 0">
      <h3>Kids</h3>
      <mat-card-content>
        <app-stock-viewer *ngFor="let kid of kids" [stock]="kid" [mini]=true></app-stock-viewer>
      </mat-card-content>
    </mat-card>
  </div>
</div>
